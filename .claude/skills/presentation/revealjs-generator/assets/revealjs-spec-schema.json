{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "revealjs-spec-schema.json",
  "title": "RevealJS Presentation Specification",
  "description": "JSON schema for RevealJS presentation generator specifications",
  "type": "object",
  "required": ["title", "slides"],
  "properties": {
    "title": {
      "type": "string",
      "description": "Presentation title"
    },
    "author": {
      "type": "string",
      "description": "Author name"
    },
    "description": {
      "type": "string",
      "description": "Presentation description"
    },
    "theme": {
      "type": "string",
      "enum": ["black", "white", "league", "beige", "night", "serif", "simple", "solarized", "blood", "moon"],
      "default": "black",
      "description": "RevealJS theme"
    },
    "customCss": {
      "type": "string",
      "description": "Path or URL to custom CSS file"
    },
    "config": {
      "type": "object",
      "description": "RevealJS configuration options",
      "properties": {
        "controls": {
          "type": "boolean",
          "default": true,
          "description": "Show navigation controls"
        },
        "progress": {
          "type": "boolean",
          "default": true,
          "description": "Show progress bar"
        },
        "slideNumber": {
          "oneOf": [
            { "type": "boolean" },
            { "type": "string" }
          ],
          "description": "Show slide numbers (true/false or format string like 'c/t')"
        },
        "hash": {
          "type": "boolean",
          "default": true,
          "description": "Enable URL hash for slide navigation"
        },
        "transition": {
          "type": "string",
          "enum": ["none", "fade", "slide", "convex", "concave", "zoom"],
          "default": "slide",
          "description": "Slide transition style"
        },
        "transitionSpeed": {
          "type": "string",
          "enum": ["default", "fast", "slow"],
          "default": "default",
          "description": "Transition speed"
        },
        "backgroundTransition": {
          "type": "string",
          "description": "Background transition style"
        },
        "autoSlide": {
          "type": "integer",
          "minimum": 0,
          "description": "Auto-advance slides in milliseconds (0 = disabled)"
        },
        "loop": {
          "type": "boolean",
          "default": false,
          "description": "Loop presentation"
        },
        "mouseWheel": {
          "type": "boolean",
          "default": false,
          "description": "Enable mouse wheel navigation"
        },
        "embedded": {
          "type": "boolean",
          "default": false,
          "description": "Run in embedded mode (no keyboard/touch controls)"
        },
        "center": {
          "type": "boolean",
          "default": true,
          "description": "Center slides vertically"
        },
        "width": {
          "type": "integer",
          "default": 960,
          "description": "Presentation width in pixels"
        },
        "height": {
          "type": "integer",
          "default": 700,
          "description": "Presentation height in pixels"
        }
      },
      "additionalProperties": true
    },
    "plugins": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["markdown", "highlight", "notes", "math", "search", "zoom"]
      },
      "default": ["markdown", "highlight", "notes"],
      "description": "Plugins to include"
    },
    "slides": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/slide"
      },
      "description": "Array of slides"
    }
  },
  "definitions": {
    "slide": {
      "type": "object",
      "description": "A single slide",
      "properties": {
        "content": {
          "type": "string",
          "description": "HTML content for the slide"
        },
        "markdown": {
          "type": "string",
          "description": "Markdown content (will be rendered by RevealJS)"
        },
        "background": {
          "type": "object",
          "description": "Slide background configuration",
          "properties": {
            "color": {
              "type": "string",
              "description": "Background color (hex without #)"
            },
            "image": {
              "type": "string",
              "description": "Background image URL"
            },
            "video": {
              "type": "string",
              "description": "Background video URL"
            },
            "size": {
              "type": "string",
              "enum": ["cover", "contain"],
              "default": "cover",
              "description": "Background size"
            },
            "opacity": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 1,
              "description": "Background opacity"
            }
          }
        },
        "notes": {
          "type": "string",
          "description": "Speaker notes"
        },
        "vertical": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/slide"
          },
          "description": "Nested vertical slides"
        },
        "transition": {
          "type": "string",
          "description": "Override transition for this slide"
        },
        "transitionSpeed": {
          "type": "string",
          "description": "Override transition speed for this slide"
        },
        "autoAnimate": {
          "type": "boolean",
          "description": "Enable auto-animate for this slide"
        },
        "attributes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Custom data attributes"
        }
      },
      "additionalProperties": false
    }
  }
}
